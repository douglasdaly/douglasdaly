{% extends 'blog/base.html' %}

{% load markdownify %}
{% load page_tags %}
{% load post_tags %}

{% block meta_extra %}{% meta_head post.title post.description %}{% endblock %}
{% block keywords %}{% meta_keywords post|tag_strjoin %}{% endblock %}

{% block additional_scripts %}
{% if post.javascript_includes %}
  {% for js_inc in post.javascript_includes.all %}
  <script type="text/javascript" src="{{ js_inc.file.url }}"></script>
  {% endfor %}
{% endif %}
{% endblock %}

{% block blog_content %}
<div class="blog-content">  
  <h1><b>{{ post.title }}</b></h1>
  <p><i>{{ post.description }}</i></p>
  <p><b>Category: </b><a href="{{ post.category.get_absolute_url }}">{{ post.category.name }}</a></p>

  {{ post.body | markdown | safe }}

  {% if post.tags %}
  <b>Tags: </b>
  <ul class="list-inline">
    {% for tag in post.tags.all %}
    <li class="list-inline-item"><i><a href="{{ tag.get_absolute_url }}">{{ tag.name }}</a></i></li>
    {% endfor %}
  </ul>
  {% endif %}
</div>
{% endblock %}

{% block additional_tail_js %}
{% if post.custom_javascript %}<script type="text/javascript" src="{{ post.custom_javascript.url }}"></script>{% endif %}
{% endblock %}